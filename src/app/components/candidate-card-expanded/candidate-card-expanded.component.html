<div class="candidate-card-expanded p-grid p-justify-center p-align-center p-nogutter">

  <div class="p-grid p-justify-center p-align-center p-col-12 p-xl-2">
    <div class="candidate p-col-12">
      <div class="candidate-image-container">
        <div class="candidate-image">
          <img [src]="candidateImg" alt="candidate picture">
        </div>
      </div>
      <h1>{{ candidate['candidate name'] }}</h1>
      <h2>{{ candidate['description'] }}</h2>
  
      <div class="website-link">
        <mat-icon>link</mat-icon>
        <a href="{{ candidate['website'] }}">Website</a>
      </div>
  
      <div>
        <button class="full-details-btn" routerLink="/under-construction" mat-flat-button>See Full Details</button>
      </div>
    </div>
  </div>


  <div class="raised-spent p-grid p-justify-center p-align-center p-col-12 p-xl-3">
    <div class="p-col-8">
      <div class="title">
        <p>
          Raised v. Spent
          <sup>
            <i
              class="helper-tip fa fa-question-circle"
              aria-hidden="true"
              matTooltip="Total campaign funds raised and spent by the candidate."
            >
            </i>
          </sup>
        </p>
      </div>
  
      <div class="raised-spent-chart">
        <canvas baseChart
          width="350"
          height="220"
          [chartType]="barChartType"
          [datasets]="barChartData"
          [options]="barChartOptions"
          [plugins]="chartPlugins"
        ></canvas>
      </div>
  
      <div class="raised-spent-footer">
        <div class="donors">
          <p class="raised-spent-footer-title">Donors</p>
          <p class="raised-spent-footer-content">{{ candidate['raised vs spent'][0].Donors }}</p>
        </div>
  
        <div class="avg-donation">
          <p class="raised-spent-footer-title">Average Donation</p>
          <p class="raised-spent-footer-content">{{ candidate['raised vs spent'][0]['Average Donor'] }}</p>
        </div>
      </div>
    </div>
  </div>


  <div class="industries p-grid p-justify-center p-col-12 p-xl-5">
    <div class="p-col-12">
      <div class="title">
        <p>
          Donations by Group
          <sup>
            <i
              class="helper-tip fa fa-question-circle"
              aria-hidden="true"
              matTooltip="Total contributions from the five largest groups of campaign donors.  Groups are determined by the industry segment of each donor's employer."
            >
            </i>
          </sup>
        </p>
      </div>
    </div>

    <div class="p-col-12 p-xl-100">
      <table class="industries-table" mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="colorCode">
          <th mat-header-cell *matHeaderCellDef>Color Code</th>
          <td [ngClass]="{'remove-border': i == dataSource.data.length - 1}" mat-cell *matCellDef="let element; let i = index" [style.color]="element.colorCode">
            <mat-icon>fiber_manual_record</mat-icon>
          </td>
        </ng-container>
  
        <ng-container matColumnDef="industry">
          <th mat-header-cell *matHeaderCellDef>Industry</th>
          <td [ngClass]="{'remove-border': i == dataSource.data.length - 1}" mat-cell *matCellDef="let element; let i = index">{{ element.industry }}</td>
        </ng-container>
  
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef>Amount</th>
          <td [ngClass]="{'remove-border': i == dataSource.data.length - 1}" mat-cell *matCellDef="let element; let i = index">{{ element.amount | currency:'USD':'symbol':'1.0-0' }}</td>
        </ng-container>
  
        <ng-container matColumnDef="percentage">
          <th mat-header-cell *matHeaderCellDef>Percentage</th>
          <td [ngClass]="{'remove-border': i == dataSource.data.length - 1}" mat-cell *matCellDef="let element; let i = index">{{ element.percentage | number:'1.0-0' }}%</td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </div>


  <div class="in-out-district p-col-12 p-xl-2 p-md-6">
    <div class="title">
      <p>
        In v. Out City
        <sup>
          <i
            class="helper-tip fa fa-question-circle"
            aria-hidden="true"
            matTooltip="Total campaign funds raised in the city of San Diego versus funds raised outside of city limits."
          >
          </i>
        </sup>
      </p>
    </div>

    <div>
      <canvas baseChart
        width="260"
        height="260"
        [chartType]="doughnutChartType"
        [datasets]="doughnutChartData"
        [colors]="doughnutChartColors"
        [options]="doughnutChartOptions"
        [plugins]="chartPlugins"
      >
      </canvas>
    </div>
  </div>


  <div class="close">
    <i style="font-size: 25px;" class="fa fa-times-circle" aria-hidden="true" (click)="close()"></i>
  </div>


  <div class="p-col-12 divider"></div>


  <div class="outside-money p-col-12 p-xl-3">
    <div class="title">
      <p>
        Outside Money
        <sup>
          <i
            class="helper-tip fa fa-question-circle"
            aria-hidden="true"
            matTooltip="Amount of money raised and spent by independent expenditure committees spent in support or opposition of a candidate but not contributed directly to their campaign."
          >
          </i>
        </sup>
      </p>
    </div>
  </div>


  <div class="raised-donors p-grid p-justify-center p-align-center p-col-12 p-xl-3">
    <div class="raised p-col-6 p-xl-3 p-md-3">
      <p class="raised-title">Raised</p>
      <div class="raised-amount">{{ candidate['raised vs spent'][0].Raised | currency:'USD':'symbol':'1.0-0' }}</div>
    </div>
  
    <div class="donors p-col-6 p-xl-3 p-md-3">
      <p class="donors-title">Donors</p>
      <div class="donors-amount">{{ candidate['raised vs spent'][0].Donors }}</div>
    </div>
  </div>
  

  <div class="oppose-support p-grid p-justify-center p-align-center p-col-12 p-xl-5">
    <div class="oppose-support-chart p-col-12">
      <canvas baseChart
        [chartType]="stackedHorizontalBarChartType"
        [datasets]="stackedHorizontalBarChartData"
        [colors]="stackedHorizontalBarChartColors"
        [options]="stackedHorizontalBarChartOptions"
        [plugins]="chartPlugins"
      ></canvas>
    </div>
  </div>

</div>
